(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"9d0U":function(n,l,e){"use strict";e.r(l);var u=e("CcnG"),t=function(){},a=e("pMnS"),s=function(){function n(){this.toggleList=new u.m}return n.prototype.ngOnInit=function(){},n}(),i=u.La({encapsulation:0,styles:[[".header-container[_ngcontent-%COMP%]{height:50px;background-color:#228be6;display:flex;align-items:center}.header-container[_ngcontent-%COMP%]   .toogle-btn[_ngcontent-%COMP%]{margin-left:20px;cursor:pointer}.header-container[_ngcontent-%COMP%]   .toogle-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}"]],data:{}});function o(n){return u.gb(0,[(n()(),u.Na(0,0,null,null,2,"div",[["class","header-container"]],null,null,null,null,null)),(n()(),u.Na(1,0,null,null,1,"a",[["class","toogle-btn"]],null,[[null,"click"]],function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.toggleList.emit()&&u),u},null,null)),(n()(),u.Na(2,0,null,null,0,"i",[["class","fas fa-align-justify"]],null,null,null,null,null))],null,null)}var r=e("Ip0R"),c=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),g=u.La({encapsulation:0,styles:[[".userlist-container[_ngcontent-%COMP%]{background-color:#d9d9d9;width:100%;height:100%;overflow:auto}.userlist-container[_ngcontent-%COMP%]   .user-list[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]{height:50px;padding:10px;border-bottom:1px solid #000}"]],data:{}});function p(n){return u.gb(0,[(n()(),u.Na(0,0,null,null,33,"div",[["class","userlist-container"]],null,null,null,null,null)),(n()(),u.Na(1,0,null,null,32,"div",[["class","user-list"]],null,null,null,null,null)),(n()(),u.Na(2,0,null,null,1,"div",[["class","user-item"]],null,null,null,null,null)),(n()(),u.eb(-1,null,["1"])),(n()(),u.Na(4,0,null,null,1,"div",[["class","user-item"]],null,null,null,null,null)),(n()(),u.eb(-1,null,["2"])),(n()(),u.Na(6,0,null,null,1,"div",[["class","user-item"]],null,null,null,null,null)),(n()(),u.eb(-1,null,["3"])),(n()(),u.Na(8,0,null,null,1,"div",[["class","user-item"]],null,null,null,null,null)),(n()(),u.eb(-1,null,["4"])),(n()(),u.Na(10,0,null,null,1,"div",[["class","user-item"]],null,null,null,null,null)),(n()(),u.eb(-1,null,["5"])),(n()(),u.Na(12,0,null,null,1,"div",[["class","user-item"]],null,null,null,null,null)),(n()(),u.eb(-1,null,["6"])),(n()(),u.Na(14,0,null,null,1,"div",[["class","user-item"]],null,null,null,null,null)),(n()(),u.eb(-1,null,["7"])),(n()(),u.Na(16,0,null,null,1,"div",[["class","user-item"]],null,null,null,null,null)),(n()(),u.eb(-1,null,["8"])),(n()(),u.Na(18,0,null,null,1,"div",[["class","user-item"]],null,null,null,null,null)),(n()(),u.eb(-1,null,["9"])),(n()(),u.Na(20,0,null,null,1,"div",[["class","user-item"]],null,null,null,null,null)),(n()(),u.eb(-1,null,["10"])),(n()(),u.Na(22,0,null,null,1,"div",[["class","user-item"]],null,null,null,null,null)),(n()(),u.eb(-1,null,["11"])),(n()(),u.Na(24,0,null,null,1,"div",[["class","user-item"]],null,null,null,null,null)),(n()(),u.eb(-1,null,["12"])),(n()(),u.Na(26,0,null,null,1,"div",[["class","user-item"]],null,null,null,null,null)),(n()(),u.eb(-1,null,["13"])),(n()(),u.Na(28,0,null,null,1,"div",[["class","user-item"]],null,null,null,null,null)),(n()(),u.eb(-1,null,["14"])),(n()(),u.Na(30,0,null,null,1,"div",[["class","user-item"]],null,null,null,null,null)),(n()(),u.eb(-1,null,["15"])),(n()(),u.Na(32,0,null,null,1,"div",[["class","user-item"]],null,null,null,null,null)),(n()(),u.eb(-1,null,["16"]))],null,null)}var d=e("N/25"),f=function(){function n(n){var l=this;this.authService=n,this.isOwnMessage=!1,n.authUser().subscribe(function(n){l.isOwnMessage=n.email===l.chatMessage.email})}return n.prototype.ngOnInit=function(){},n}(),m=u.La({encapsulation:0,styles:[[".message-wrapper[_ngcontent-%COMP%]{display:flex;padding:4px 10px;font-family:'Open Sans',sans-serif}.message-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:10px;-ms-grid-row-align:center;align-self:center}.message-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.message-wrapper[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{flex:1}.message-wrapper[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{color:#6f6f6f}.message-wrapper[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .sender[_ngcontent-%COMP%]{font-size:14px;font-weight:700px}.message-wrapper[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:12px;font-style:italic}.message-wrapper[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:inline-block;background:#dedede;border-radius:24px;font-size:14px;padding:4px 10px;word-break:break-word}.message-wrapper.own[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background:#51a3fb;color:#fff}"]],data:{}});function h(n){return u.gb(0,[u.Ya(0,r.e,[u.s]),(n()(),u.Na(1,0,null,null,13,"div",[["class","message-wrapper"]],null,null,null,null,null)),u.Ma(2,278528,null,0,r.k,[u.q,u.r,u.k,u.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Za(3,{own:0}),(n()(),u.Na(4,0,null,null,1,"div",[["class","avatar"]],null,null,null,null,null)),(n()(),u.Na(5,0,null,null,0,"img",[["alt",""],["src","https://cdn.iconscout.com/public/images/icon/free/png-512/avatar-user-business-man-399587fe24739d5a-512x512.png"]],null,null,null,null,null)),(n()(),u.Na(6,0,null,null,8,"div",[["class","message"]],null,null,null,null,null)),(n()(),u.Na(7,0,null,null,5,"div",[["class","user"]],null,null,null,null,null)),(n()(),u.Na(8,0,null,null,1,"span",[["class","sender"]],null,null,null,null,null)),(n()(),u.eb(9,null,[" "," "])),(n()(),u.Na(10,0,null,null,2,"span",[["class","time"]],null,null,null,null,null)),(n()(),u.eb(11,null,[" "," "])),u.ab(12,2),(n()(),u.Na(13,0,null,null,1,"div",[["class","content"]],null,null,null,null,null)),(n()(),u.eb(14,null,["",""]))],function(n,l){n(l,2,0,"message-wrapper",n(l,3,0,l.component.isOwnMessage))},function(n,l){var e=l.component;n(l,9,0,e.chatMessage.userName),n(l,11,0,u.fb(l,11,0,n(l,12,0,u.Xa(l,0),e.chatMessage.timeSent,"medium"))),n(l,14,0,e.chatMessage.message)})}var M=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),b=u.La({encapsulation:0,styles:[[".feed-wrapper[_ngcontent-%COMP%]{padding:10px 0}"]],data:{}});function C(n){return u.gb(0,[(n()(),u.Na(0,0,null,null,2,"div",[["class","message"]],null,null,null,null,null)),(n()(),u.Na(1,0,null,null,1,"app-message",[],null,null,null,h,m)),u.Ma(2,114688,null,0,f,[d.a],{chatMessage:[0,"chatMessage"]},null)],function(n,l){n(l,2,0,l.context.$implicit)},null)}function v(n){return u.gb(0,[(n()(),u.Na(0,0,null,null,2,"div",[["class","feed-wrapper"]],null,null,null,null,null)),(n()(),u.Ea(16777216,null,null,1,null,C)),u.Ma(2,802816,null,0,r.l,[u.M,u.J,u.q],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,l.component.feed)},null)}var O=e("gIcY"),P=function(){function n(){this.sending=new u.m}return n.prototype.ngOnInit=function(){},n.prototype.send=function(){this.sending.emit(this.message),this.message=""},n.prototype.handelSubmit=function(n){13===n.keyCode&&(this.sending.emit(n.target.value),this.message="")},n}(),_=u.La({encapsulation:0,styles:[[".form-wrapper[_ngcontent-%COMP%]{height:50px;background:#fff;box-shadow:0 -1px 25px 0 rgba(0,0,0,.3);display:flex;align-items:center;padding:10px 20px;font-family:'Open Sans',sans-serif;font-size:14px}.form-wrapper[_ngcontent-%COMP%]   .chat-input[_ngcontent-%COMP%]{flex:1;border-radius:20px;border:1px solid rgba(0,0,0,.16);margin-right:20px;outline:0;padding:4px 14px}.form-wrapper[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]{border-radius:20px;width:100px;background:#228be6;color:#fff;outline:0}"]],data:{}});function N(n){return u.gb(0,[(n()(),u.Na(0,0,null,null,8,"div",[["class","form-wrapper"]],null,null,null,null,null)),(n()(),u.Na(1,0,null,null,5,"input",[["class","chat-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var t=!0,a=n.component;return"input"===l&&(t=!1!==u.Xa(n,2)._handleInput(e.target.value)&&t),"blur"===l&&(t=!1!==u.Xa(n,2).onTouched()&&t),"compositionstart"===l&&(t=!1!==u.Xa(n,2)._compositionStart()&&t),"compositionend"===l&&(t=!1!==u.Xa(n,2)._compositionEnd(e.target.value)&&t),"ngModelChange"===l&&(t=!1!==(a.message=e)&&t),"keydown"===l&&(t=!1!==a.handelSubmit(e)&&t),t},null,null)),u.Ma(2,16384,null,0,O.c,[u.B,u.k,[2,O.a]],null,null),u.bb(1024,null,O.f,function(n){return[n]},[O.c]),u.Ma(4,671744,null,0,O.k,[[8,null],[8,null],[8,null],[6,O.f]],{model:[0,"model"]},{update:"ngModelChange"}),u.bb(2048,null,O.g,null,[O.k]),u.Ma(6,16384,null,0,O.h,[[4,O.g]],null,null),(n()(),u.Na(7,0,null,null,1,"button",[["class","send-btn"]],null,[[null,"click"]],function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.send()&&u),u},null,null)),(n()(),u.eb(-1,null,["Send"]))],function(n,l){n(l,4,0,l.component.message)},function(n,l){n(l,1,0,u.Xa(l,6).ngClassUntouched,u.Xa(l,6).ngClassTouched,u.Xa(l,6).ngClassPristine,u.Xa(l,6).ngClassDirty,u.Xa(l,6).ngClassValid,u.Xa(l,6).ngClassInvalid,u.Xa(l,6).ngClassPending)})}var x=e("6233"),w=e("Oipj"),y=function(){function n(n,l){var e=this;this.db=n,this.afAuth=l,this.afAuth.authState.subscribe(function(n){void 0!==n&&null!==n&&(e.user=n),e.getUser().subscribe(function(n){e.userName=n.displayName})})}return n.prototype.getUser=function(){return this.db.object("/users/"+this.user.uid).valueChanges()},n.prototype.sendMessage=function(n){var l=this.getTimeStamp(),e=this.user.email,u=this.userName;this.chatMessages=this.getMessages(),this.chatMessages.push({email:e,message:n,userName:u,timeSent:l})},n.prototype.getMessages=function(){return this.db.list("messages",function(n){return n.limitToFirst(25).orderByKey()})},n.prototype.getTimeStamp=function(){var n=new Date;return n.getUTCFullYear()+"/"+(n.getUTCMonth()+1)+"/"+n.getUTCDate()+" "+n.getUTCHours()+":"+n.getUTCMinutes()+":"+n.getUTCSeconds()},n.ngInjectableDef=u.Q({factory:function(){return new n(u.U(x.a),u.U(w.a))},token:n,providedIn:"root"}),n}(),k=function(){function n(n){this.chatService=n,this.isListOpen=!1}return n.prototype.ngOnInit=function(){this.feed=this.chatService.getMessages().valueChanges()},n.prototype.sendMessage=function(n){this.chatService.sendMessage(n)},n.prototype.scrollToBottom=function(){this.feedContainer.nativeElement.scrollTop=this.feedContainer.nativeElement.scrollHeight},n.prototype.ngAfterViewChecked=function(){this.scrollToBottom()},n}(),V=u.La({encapsulation:0,styles:[[".chat-container[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column}.chat-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;flex-direction:column}.chat-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .user-list[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;left:-100%;transition:all .5s}.chat-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .user-list.open[_ngcontent-%COMP%]{left:0}.chat-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .app-feed[_ngcontent-%COMP%]{flex:1;overflow:auto}"]],data:{}});function S(n){return u.gb(0,[u.cb(402653184,1,{feedContainer:0}),(n()(),u.Na(1,0,null,null,16,"div",[["class","chat-container"]],null,null,null,null,null)),(n()(),u.Na(2,0,null,null,2,"div",[["class","app-header"]],null,null,null,null,null)),(n()(),u.Na(3,0,null,null,1,"app-header",[],null,[[null,"toggleList"]],function(n,l,e){var u=!0,t=n.component;return"toggleList"===l&&(u=0!=(t.isListOpen=!t.isListOpen)&&u),u},o,i)),u.Ma(4,114688,null,0,s,[],null,{toggleList:"toggleList"}),(n()(),u.Na(5,0,null,null,12,"div",[["class","content"]],null,null,null,null,null)),(n()(),u.Na(6,0,null,null,4,"div",[["class","user-list"]],null,null,null,null,null)),u.Ma(7,278528,null,0,r.k,[u.q,u.r,u.k,u.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Za(8,{open:0}),(n()(),u.Na(9,0,null,null,1,"app-user-list",[],null,null,null,p,g)),u.Ma(10,114688,null,0,c,[],null,null),(n()(),u.Na(11,0,[[1,0],["scroller",1]],null,3,"div",[["class","app-feed"]],null,null,null,null,null)),(n()(),u.Na(12,0,null,null,2,"app-feed",[],null,null,null,v,b)),u.Ma(13,114688,null,0,M,[],{feed:[0,"feed"]},null),u.Ya(131072,r.b,[u.h]),(n()(),u.Na(15,0,null,null,2,"div",[["class","chat-form"]],null,null,null,null,null)),(n()(),u.Na(16,0,null,null,1,"app-chat-form",[],null,[[null,"sending"]],function(n,l,e){var u=!0;return"sending"===l&&(u=!1!==n.component.sendMessage(e)&&u),u},N,_)),u.Ma(17,114688,null,0,P,[],null,{sending:"sending"})],function(n,l){var e=l.component;n(l,4,0),n(l,7,0,"user-list",n(l,8,0,e.isListOpen)),n(l,10,0),n(l,13,0,u.fb(l,13,0,u.Xa(l,14).transform(e.feed))),n(l,17,0)},null)}var L=u.Ja("app-chatroom",k,function(n){return u.gb(0,[(n()(),u.Na(0,0,null,null,1,"app-chatroom",[],null,null,null,S,V)),u.Ma(1,8503296,null,0,k,[y],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),T=e("MMa0"),U=e("ZYCi"),X=function(){},I=e("PCNd");e.d(l,"ChatroomModuleNgFactory",function(){return j});var j=u.Ka(t,[],function(n){return u.Ua([u.Va(512,u.j,u.Z,[[8,[a.a,L]],[3,u.j],u.v]),u.Va(4608,r.o,r.n,[u.s,[2,r.y]]),u.Va(4608,O.o,O.o,[]),u.Va(5120,T.b,T.g,[T.d,[2,T.c]]),u.Va(4608,x.a,x.a,[T.d,[2,T.c],[2,T.f],u.z,u.x]),u.Va(4608,w.a,w.a,[T.d,[2,T.c],u.z,u.x]),u.Va(1073742336,r.c,r.c,[]),u.Va(1073742336,U.l,U.l,[[2,U.r],[2,U.k]]),u.Va(1073742336,X,X,[]),u.Va(1073742336,O.m,O.m,[]),u.Va(1073742336,O.d,O.d,[]),u.Va(1073742336,T.a,T.a,[]),u.Va(1073742336,x.b,x.b,[]),u.Va(1073742336,w.b,w.b,[]),u.Va(1073742336,I.a,I.a,[]),u.Va(1073742336,t,t,[]),u.Va(1024,U.i,function(){return[[{path:"",component:k}]]},[])])})}}]);