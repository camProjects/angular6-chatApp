(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"9d0U":function(n,l,u){"use strict";u.r(l);var t=u("CcnG"),e=function(){},a=u("pMnS"),s=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),i=t.La({encapsulation:0,styles:[[""]],data:{}});function o(n){return t.fb(0,[(n()(),t.Na(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),t.db(-1,null,[" user-list works!\n"]))],null,null)}var r=u("Ip0R"),c=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),d=t.La({encapsulation:0,styles:[[""]],data:{}});function p(n){return t.fb(0,[t.Ya(0,r.e,[t.s]),(n()(),t.Na(1,0,null,null,8,"div",[["class","message-container"]],null,null,null,null,null)),(n()(),t.Na(2,0,null,null,5,"div",[["class","message-data"]],null,null,null,null,null)),(n()(),t.Na(3,0,null,null,1,"span",[["class","sender"]],null,null,null,null,null)),(n()(),t.db(4,null,[" "," "])),(n()(),t.Na(5,0,null,null,2,"span",[["class","time"]],null,null,null,null,null)),(n()(),t.db(6,null,[" "," "])),t.ab(7,2),(n()(),t.Na(8,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t.db(9,null,["",""]))],null,function(n,l){var u=l.component;n(l,4,0,u.chatMessage.userName),n(l,6,0,t.eb(l,6,0,n(l,7,0,t.Xa(l,0),u.chatMessage.timeSent,"medium"))),n(l,9,0,u.chatMessage.message)})}var g=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),f=t.La({encapsulation:0,styles:[[""]],data:{}});function h(n){return t.fb(0,[(n()(),t.Na(0,0,null,null,2,"div",[["class","message"]],null,null,null,null,null)),(n()(),t.Na(1,0,null,null,1,"app-message",[],null,null,null,p,d)),t.Ma(2,114688,null,0,c,[],{chatMessage:[0,"chatMessage"]},null)],function(n,l){n(l,2,0,l.context.$implicit)},null)}function m(n){return t.fb(0,[(n()(),t.Na(0,0,null,null,2,"div",[["class","feed"]],null,null,null,null,null)),(n()(),t.Ea(16777216,null,null,1,null,h)),t.Ma(2,802816,null,0,r.k,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,l.component.feed)},null)}var b=u("gIcY"),v=function(){function n(){this.sending=new t.m}return n.prototype.ngOnInit=function(){},n.prototype.send=function(){this.sending.emit(this.message)},n.prototype.handelSubmit=function(n){13===n.keyCode&&this.sending.emit(n.target.value)},n}(),M=t.La({encapsulation:0,styles:[[""]],data:{}});function y(n){return t.fb(0,[(n()(),t.Na(0,0,null,null,5,"input",[["class","chat-input"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,u){var e=!0,a=n.component;return"input"===l&&(e=!1!==t.Xa(n,1)._handleInput(u.target.value)&&e),"blur"===l&&(e=!1!==t.Xa(n,1).onTouched()&&e),"compositionstart"===l&&(e=!1!==t.Xa(n,1)._compositionStart()&&e),"compositionend"===l&&(e=!1!==t.Xa(n,1)._compositionEnd(u.target.value)&&e),"ngModelChange"===l&&(e=!1!==(a.message=u)&&e),"keydown"===l&&(e=!1!==a.handelSubmit(u)&&e),e},null,null)),t.Ma(1,16384,null,0,b.b,[t.B,t.k,[2,b.a]],null,null),t.bb(1024,null,b.e,function(n){return[n]},[b.b]),t.Ma(3,671744,null,0,b.h,[[8,null],[8,null],[8,null],[6,b.e]],{model:[0,"model"]},{update:"ngModelChange"}),t.bb(2048,null,b.f,null,[b.h]),t.Ma(5,16384,null,0,b.g,[[4,b.f]],null,null),(n()(),t.Na(6,0,null,null,1,"button",[["class","send-btn"]],null,[[null,"click"]],function(n,l,u){var t=!0;return"click"===l&&(t=!1!==n.component.send()&&t),t},null,null)),(n()(),t.db(-1,null,["Send"]))],function(n,l){n(l,3,0,l.component.message)},function(n,l){n(l,0,0,t.Xa(l,5).ngClassUntouched,t.Xa(l,5).ngClassTouched,t.Xa(l,5).ngClassPristine,t.Xa(l,5).ngClassDirty,t.Xa(l,5).ngClassValid,t.Xa(l,5).ngClassInvalid,t.Xa(l,5).ngClassPending)})}var N=u("6233"),C=u("Oipj"),V=function(){function n(n,l){var u=this;this.db=n,this.afAuth=l,this.afAuth.authState.subscribe(function(n){void 0!==n&&null!==n&&(u.user=n),u.getUser().subscribe(function(n){u.userName=n.displayName})})}return n.prototype.getUser=function(){return this.db.object("/users/"+this.user.uid).valueChanges()},n.prototype.sendMessage=function(n){this.getTimeStamp();var l=this.user.email;this.chatMessages=this.getMessages(),this.chatMessages.push({email:l,message:n,userName:this.userName,timeSent:this.getTimeStamp()})},n.prototype.getMessages=function(){return this.db.list("messages",function(n){return n.limitToFirst(25).orderByKey()})},n.prototype.getTimeStamp=function(){var n=new Date;return n.getUTCFullYear()+"/"+(n.getUTCMonth()+1)+"/"+n.getUTCDate()+" "+n.getUTCHours()+":"+n.getUTCMinutes()+":"+n.getUTCSeconds()},n.ngInjectableDef=t.Q({factory:function(){return new n(t.U(N.a),t.U(C.a))},token:n,providedIn:"root"}),n}(),w=function(){function n(n){this.chatService=n}return n.prototype.ngOnInit=function(){this.feed=this.chatService.getMessages().valueChanges()},n.prototype.sendMessage=function(n){this.chatService.sendMessage(n)},n}(),S=t.La({encapsulation:0,styles:[[""]],data:{}});function k(n){return t.fb(0,[(n()(),t.Na(0,0,null,null,7,"div",[["class","main-content"]],null,null,null,null,null)),(n()(),t.Na(1,0,null,null,2,"div",[["class","user-list-wrapper"]],null,null,null,null,null)),(n()(),t.Na(2,0,null,null,1,"app-user-list",[],null,null,null,o,i)),t.Ma(3,114688,null,0,s,[],null,null),(n()(),t.Na(4,0,null,null,3,"div",[["class","feed-wrapper"]],null,null,null,null,null)),(n()(),t.Na(5,0,null,null,2,"app-feed",[],null,null,null,m,f)),t.Ma(6,114688,null,0,g,[],{feed:[0,"feed"]},null),t.Ya(131072,r.b,[t.h]),(n()(),t.Na(8,0,null,null,2,"div",[["class","chat-form-wrapper"]],null,null,null,null,null)),(n()(),t.Na(9,0,null,null,1,"app-chat-form",[],null,[[null,"sending"]],function(n,l,u){var t=!0;return"sending"===l&&(t=!1!==n.component.sendMessage(u)&&t),t},y,M)),t.Ma(10,114688,null,0,v,[],null,{sending:"sending"})],function(n,l){var u=l.component;n(l,3,0),n(l,6,0,t.eb(l,6,0,t.Xa(l,7).transform(u.feed))),n(l,10,0)},null)}var U=t.Ja("app-chatroom",w,function(n){return t.fb(0,[(n()(),t.Na(0,0,null,null,1,"app-chatroom",[],null,null,null,k,S)),t.Ma(1,114688,null,0,w,[V],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),X=u("MMa0"),T=u("ZYCi"),I=function(){},O=u("PCNd");u.d(l,"ChatroomModuleNgFactory",function(){return j});var j=t.Ka(e,[],function(n){return t.Ua([t.Va(512,t.j,t.Z,[[8,[a.a,U]],[3,t.j],t.v]),t.Va(4608,r.n,r.m,[t.s,[2,r.x]]),t.Va(4608,b.k,b.k,[]),t.Va(5120,X.b,X.g,[X.d,[2,X.c]]),t.Va(4608,N.a,N.a,[X.d,[2,X.c],[2,X.f],t.z,t.x]),t.Va(4608,C.a,C.a,[X.d,[2,X.c],t.z,t.x]),t.Va(1073742336,r.c,r.c,[]),t.Va(1073742336,T.l,T.l,[[2,T.r],[2,T.k]]),t.Va(1073742336,I,I,[]),t.Va(1073742336,b.j,b.j,[]),t.Va(1073742336,b.c,b.c,[]),t.Va(1073742336,X.a,X.a,[]),t.Va(1073742336,N.b,N.b,[]),t.Va(1073742336,C.b,C.b,[]),t.Va(1073742336,O.a,O.a,[]),t.Va(1073742336,e,e,[]),t.Va(1024,T.i,function(){return[[{path:"",component:w}]]},[])])})}}]);